
/* --- Admin layout fix (map height) + mobile responsive --- */
html, body { height: 100%; }
.app{ min-height:100vh; display:flex; flex-direction:column; }
.wrap.split{ flex:1; display:flex; gap:16px; padding:16px; }
.map-wrap{ flex:1; min-height:0; border-radius:18px; overflow:hidden; position:relative; }
#map{ width:100%; height: calc(100vh - 92px); min-height: 360px; }
.panel{ width: 420px; max-width: 420px; }

@media (max-width: 980px){
  .wrap.split{ flex-direction:column; }
  .panel{ width:100%; max-width:none; }
  #map{ height: 46vh; min-height: 260px; }
}

/* Toggle */
.toggleRow{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.toggle{ position:relative; display:inline-block; width:58px; height:32px; }
.toggle input{ display:none; }
.slider{ position:absolute; cursor:pointer; inset:0; background:rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.18); transition:.2s; border-radius:999px; }
.slider:before{ content:""; position:absolute; height:26px; width:26px; left:3px; top:2px; background:rgba(255,255,255,.85); transition:.2s; border-radius:999px; }
.toggle input:checked + .slider{ background: rgba(255,40,90,.35); border-color: rgba(255,60,110,.45); }
.toggle input:checked + .slider:before{ transform: translateX(26px); }
.hint{ font-size:12px; font-weight:800; color: rgba(255,255,255,.8); }

/* Marker glow by active */
.leaflet-marker-icon.t-active{ filter: drop-shadow(0 0 10px rgba(255,40,70,.85)) drop-shadow(0 0 22px rgba(255,40,70,.35)); }
.leaflet-marker-icon.t-inactive{ filter: drop-shadow(0 0 10px rgba(50,255,150,.55)); opacity:.9; }

/* List dots */
.dot{ display:inline-block; width:10px; height:10px; border-radius:99px; margin-right:8px; vertical-align:middle; }
.dot-on{ background: rgba(255,40,70,.95); box-shadow:0 0 10px rgba(255,40,70,.65); }
.dot-off{ background: rgba(50,255,150,.9); box-shadow:0 0 10px rgba(50,255,150,.45); }

/* Danger button */
.btn.danger{ border-color: rgba(255,70,90,.55) !important; background: rgba(255,30,60,.14) !important; }
.btn.danger:hover{ background: rgba(255,30,60,.22) !important; }



select, .select, .field select{
  background: rgba(18, 24, 32, .85) !important;
  color: #EAF0F7 !important;
  border: 1px solid rgba(255,255,255,.14) !important;
}
select:focus{
  outline: none !important;
  box-shadow: 0 0 0 3px rgba(255,80,120,.18) !important;
}
select option{
  background: #0E131A !important;
  color: #EAF0F7 !important;
}

.compass{position:relative;width:160px;height:160px;margin-top:12px;border-radius:50%;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.12)}
.compass-ring{position:absolute;inset:10px;border-radius:50%;border:1px dashed rgba(255,255,255,.22)}
.compass-needle{position:absolute;left:50%;top:50%;width:2px;height:64px;background:rgba(255,80,120,.9);transform-origin:50% 100%;transform:translate(-50%,-100%) rotate(0deg);border-radius:2px;box-shadow:0 0 16px rgba(255,80,120,.35)}
.compass-knob{position:absolute;left:50%;top:50%;width:18px;height:18px;border-radius:50%;background:#EAF0F7;transform:translate(-50%,-50%);box-shadow:0 0 0 3px rgba(255,80,120,.25);cursor:grab}
.compass::after{content:"Пн";position:absolute;left:50%;top:6px;transform:translateX(-50%);font-weight:1000;opacity:.65}
.compass::before{content:"Пд";position:absolute;left:50%;bottom:6px;transform:translateX(-50%);font-weight:1000;opacity:.65}
.hint{font-size:12px;opacity:.7;margin-top:6px}
@media (max-width: 920px){
  .wrap.split{display:flex;flex-direction:column;height:100dvh}
  .panel{position:fixed;left:0;right:0;bottom:0;z-index:9999;max-height:52dvh;overflow:auto;border-top-left-radius:18px;border-top-right-radius:18px}
  .map-wrap{flex:1 1 auto;min-height:0}
  .topbar{padding-top:calc(10px + env(safe-area-inset-top))}
  .panel{padding-bottom:calc(18px + env(safe-area-inset-bottom))}
}
